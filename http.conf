# Simple / very basic http configuration

server {
 listen 8080 default_server;
 listen [::]:8080 default_server;

 # root directive should be global
 root /home/heimdall/www/public;
 index index.php index.html;

 location / {
  index index.php index.html;
  root /home/heimdall/www/public;
  try_files $uri $uri/ /index.php?$args;
 }

 location ~ \.php$ {
  root /home/heimdall/www/public;
  try_files $uri =404;
  include /etc/nginx/fastcgi_params;
  fastcgi_pass    127.0.0.1:9000;
  fastcgi_index   index.php;
  fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
 }

 # location / {
 #  root /var/lib/nginx/html;
 # }
 #
 # location ~ \.php$ {
 #  fastcgi_pass      127.0.0.1:9000;
 #  fastcgi_index     index.php;
 #  include           fastcgi.conf;
 # }

 # location / {
 #   root /home/heimdall/www/heimdall/public;
 #   try_files $uri $uri/ /index.php?$query_string;
 # }

}